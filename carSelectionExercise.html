<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Car Selection Exercise</title>
        <style>
            * {
                font-family: Arial, Helvetica, sans-serif;
            }

            body {
                margin: 0px;
                padding: 0px;
            }

            header {
                border-bottom: 1px solid black;
            }

            #companyTitle {
                margin-left: 1%;
                color: blue;
                text-shadow: 1px 1px 1px rgba(0, 0, 255, 0.712);
            }

            #filter {
                margin: 2% 0% 0% 2%;
                display: flex;
                align-items: center;
            }

            #filter h1 {
                font-size: 2rem;
            }

            #filter h1, h4 {
                margin-right: 1%;
            }

            #filter select {
                height: 2rem;
                margin-right: 1%;
            }

            #information {
                display: flex;
                align-items: center;
                justify-content: space-evenly;
            }

            footer {
                position: absolute;
                top: 100%;
                padding: 1%;
                border: 1px solid black;
                width: fit-content;
                float: right;
            }
        </style>
    </head>

    <body>
        <header>
            <h2 id="companyTitle">Company Cross Page Header</h2>
        </header>

        <main>
            <section id="filter">
                <h1>Select your car&colon; </h1>
                <h4>Brand:</h4>
                <select name="brand" id="brandSelection" onchange="modelListChange()"></select>
                <h4>Model:</h4>
                <select name="model" id="modelSelection"></select>
            </section>

            <section id="information">
                <noscript>Sorry, your browser does not support JavaScript or has it disabled!</noscript>
            </section>
        </main>

        <footer>
            <p>Enable Your JavaScript!</p>
        </footer>

        <script>
            // arrays of brands and models of cars 
            let brands = ["Ford", "Toyota", "Vauxhall"];
            // brand models are grouped together, model gorups in models index is identical to brand in brands index 
            let models =  [["Fiesta", "Focus", "Galaxy", "Ka", "Mondeo"],  ["Aygo", "Corolla", "Prius", "Land Cruiser", "Supra"],  
            ["Astra", "Corsa", "Crossland", "Grandland", "Insignia", "Mokka"]];

            // handles the car brand options available to select
            // creates <option> tags for select element for elements in arrays specified 
            for (let brand in brands) {
                let brandDropDown = document.getElementById("brandSelection");
                let newDropDownOption = document.createElement("option");
                newDropDownOption.innerHTML = brands[brand];
                newDropDownOption.setAttribute("value", brands[brand]);
                brandDropDown.appendChild(newDropDownOption);
            };

            // retrieves value of selected option and saves to variable
            let selectedBrandIndex = document.getElementById("brandSelection").selectedIndex;

            // creates initial <option> tags for select element for elements in arrays specified
                for (let model in models[selectedBrandIndex]) {
                    let modelDropDown = document.getElementById("modelSelection");
                    let newDropDownOption = document.createElement("option");
                    newDropDownOption.innerHTML = models[selectedBrandIndex][model];
                    modelDropDown.appendChild(newDropDownOption);
                };

            // handles the car model options available to select
            function modelListChange() {
                // deletes current options in select element so that repeats do not occur
                let modelSelector = document.getElementById("modelSelection");
                while (modelSelector.lastChild) {
                    modelSelector.removeChild(modelSelector.lastChild);
                };

                // retrieves value of selected option and saves to variable
                let selectedBrandIndex = document.getElementById("brandSelection").selectedIndex;

                // creates new <option> tags for select element for elements in arrays specified
                for (let model in models[selectedBrandIndex]) {
                    let modelDropDown = document.getElementById("modelSelection");
                    let newDropDownOption = document.createElement("option");
                    newDropDownOption.innerHTML = models[selectedBrandIndex][model];
                    modelDropDown.appendChild(newDropDownOption);
                };
            }
            
        </script>
    </body>

</html>